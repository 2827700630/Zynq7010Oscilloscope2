/**
 * 为什么使用 61+2=63 而不是 XPAR_FABRIC_AXI_DMA_0_INTR=31
 * =====================================================
 * 
 * ## 问题核心：xparameters.h 中的中断ID定义错误
 * 
 * ### 1. xparameters.h 中的错误定义
 * ```c
 * #define XPAR_FABRIC_AXI_DMA_0_INTR 31  // ❌ 错误的中断ID
 * ```
 * 
 * ### 2. 实际硬件连接（通过 design_1.bd 分析）
 * ```
 * 硬件连接链路：
 * axi_dma_0/s2mm_introut → xlconcat_0/In2 → processing_system7_0/IRQ_F2P[2]
 *                           ^^^^^^^^^^^^     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 *                           第2个端口        IRQ_F2P的第2位
 * ```
 * 
 * ### 3. ZYNQ-7000 中断系统架构
 * ```
 * ZYNQ PS 中断ID分配：
 * ┌─────────────────┬──────────┬────────────────────────┐
 * │   中断类型      │  ID范围  │         描述           │
 * ├─────────────────┼──────────┼────────────────────────┤
 * │ SGI             │  0-15    │ 软件生成中断           │
 * │ PPI             │ 16-31    │ 私有外设中断           │
 * │ SPI             │ 32-95    │ 共享外设中断           │
 * │ IRQ_F2P[0-7]    │ 61-68    │ Fabric到PS中断 ⭐     │
 * └─────────────────┴──────────┴────────────────────────┘
 * ```
 * 
 * ### 4. IRQ_F2P 端口映射（本项目）
 * ```
 * xlconcat_0 端口 → IRQ_F2P位 → 实际中断ID
 * ├── In0         → IRQ_F2P[0] → 61  (axi_vdma_0/mm2s_introut)
 * ├── In1         → IRQ_F2P[1] → 62  (v_tc_0/irq)
 * └── In2         → IRQ_F2P[2] → 63  (axi_dma_0/s2mm_introut) ⭐
 * ```
 * 
 * ### 5. 中断ID计算公式
 * ```
 * 正确的中断ID = IRQ_F2P_BASE + xlconcat端口号
 *              = 61 + 2
 *              = 63  ✅
 * ```
 * 
 * ### 6. 为什么 xparameters.h 中是 31？
 * 
 * **可能的原因**：
 * 1. **Vitis工具bug**：自动生成时没有正确识别xlconcat连接
 * 2. **硬件设计变更**：设计过程中修改了连接，但没有重新生成参数文件
 * 3. **模板错误**：使用了错误的模板或参考设计
 * 
 * **31的含义**：
 * - 31在ZYNQ系统中属于PPI（私有外设中断）范围
 * - 这个ID可能是某个默认值或占位符
 * - 它不反映实际的硬件连接
 * 
 * ### 7. 验证证据
 * 
 * **测试结果证明 63 是正确的**：
 * ```
 * 使用 ID=31 时：
 * [DMA测试] 超时：未收到DMA完成中断  ❌
 * 
 * 使用 ID=63 时：
 * [中断] DMA S2MM传输完成中断触发  ✅
 * [数据] 检测到有效ADC数据!       ✅
 * ```
 * 
 * ### 8. 最佳实践：使用计算方式而不是硬编码
 * 
 * **不推荐**：
 * ```c
 * #define S2MM_INTR_ID  XPAR_FABRIC_AXI_DMA_0_INTR  // 可能错误
 * #define S2MM_INTR_ID  63                          // 硬编码
 * ```
 * 
 * **推荐**：
 * ```c
 * #define ZYNQ_IRQ_F2P_BASE_ID   61              // ZYNQ架构常量
 * #define DMA_XLCONCAT_PORT      2               // 硬件连接配置
 * #define S2MM_INTR_ID           (ZYNQ_IRQ_F2P_BASE_ID + DMA_XLCONCAT_PORT)
 * ```
 * 
 * ### 9. 如何避免此类问题
 * 
 * 1. **分析硬件设计**：
 *    - 检查 block design 中的实际连接
 *    - 确认中断信号的完整路径
 * 
 * 2. **不盲信自动生成文件**：
 *    - xparameters.h 可能包含错误
 *    - 需要与实际硬件设计对比验证
 * 
 * 3. **使用可维护的代码**：
 *    - 用宏定义表达硬件架构
 *    - 添加详细注释说明连接关系
 * 
 * ### 10. 总结
 * 
 * ❌ **错误**：`XPAR_FABRIC_AXI_DMA_0_INTR = 31`
 * - 来源：xparameters.h 自动生成错误
 * - 后果：中断无法触发，DMA传输失败
 * 
 * ✅ **正确**：`61 + 2 = 63`
 * - 依据：实际硬件连接分析
 * - 验证：测试成功，中断正常触发
 * 
 */
