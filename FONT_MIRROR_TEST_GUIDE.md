# 字体镜像测试指南

## 测试目的
通过在HDMI屏幕上显示特定的字符，来诊断和修复字体显示的左右镜像问题。

## 测试字符说明

### 1. 顶部测试行
- **位置**: 标题下方
- **内容**: "Test: ABCDEFG 123456" (红色)
- **内容**: "Mirror: P b d q" (绿色)

### 2. 中心测试
- **位置**: 屏幕中央
- **内容**: "FG" (黄色大字)
- **说明**: "Mirror Test" (青色)

## 如何判断镜像问题

### 正常显示应该是：
```
F: 左边有三条横线，右边空白
G: 左边空白，右边有开口向左的圆圈
P: 上半部分有凸起，下半部分平直
b: 左边有竖线，右边有下半圆
d: 左边有下半圆，右边有竖线
q: 左边有下半圆，右边有向下的竖线
```

### 如果显示镜像（左右翻转），会看到：
```
F: 右边有三条横线，左边空白 (错误)
G: 右边空白，左边有开口向右的圆圈 (错误)
P: 看起来像反向的 P
b: 看起来像 d
d: 看起来像 b
q: 看起来像 p
```

## 修复方法

根据测试结果，在 `oscilloscope_text.c` 的 `draw_char` 函数中调整位测试方式：

### 当前测试方法 (可能需要调整)
```c
// 当前使用: (0x01 << col) - 从最低位开始
if (line & (0x01 << col)) {
    draw_point(canvas, x + col, y + row, canvas_width, b, g, r);
}
```

### 备选方法
```c
// 方法1: (0x80 >> col) - 从最高位开始
if (line & (0x80 >> col)) {
    draw_point(canvas, x + col, y + row, canvas_width, b, g, r);
}

// 方法2: (0x01 << (7-col)) - 位序翻转
if (line & (0x01 << (7-col))) {
    draw_point(canvas, x + col, y + row, canvas_width, b, g, r);
}
```

## 测试步骤

1. 编译并运行程序
2. 观察HDMI屏幕上的测试字符
3. 对比上述正常/镜像的描述
4. 如果发现镜像，尝试不同的位测试方法
5. 重新编译测试，直到字符显示正常

## 注意事项

- 测试字符已经集成到示波器界面中，会自动显示
- 无需额外配置，只要调用 `draw_complete_oscilloscope_interface` 就会显示测试字符
- 修复完成后，可以删除或注释掉测试代码

## 字体数据格式

本项目使用的8x16点阵字体，每字节代表8个水平像素：
- Bit 7 (0x80): 最左边像素
- Bit 6 (0x40): 第2个像素  
- Bit 5 (0x20): 第3个像素
- ...
- Bit 0 (0x01): 最右边像素

如果字体数据格式不同，需要相应调整位测试方法。
